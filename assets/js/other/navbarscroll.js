!function(r){r.fn.navbarscroll=function(l){var T=r.extend({className:"curr",clickScrollTime:300,duibiScreenWidth:.4,scrollerWidth:3,defaultSelect:0,fingerClick:0,endClickScroll:function(l){}},l);this.each(function(){var l=r(this),d=r(window).width(),a=l.width(),h=l.offset().left,k=d-h-a,c=l.children(".scroller"),m=c.children("ul").children("li"),u=0;m.css({"margin-left":"0","margin-right":"0"});for(var i=0;i<m.length;i++)u+=m[i].offsetWidth;c.width(u+T.scrollerWidth);var S=new IScroll("#"+l.attr("id"),{eventPassthrough:!0,scrollX:!0,scrollY:!1,preventDefault:!1});function e(l){var c=l,i=T.duibiScreenWidth*d/10,e=c.index(),r=c.offset().left,o=c.position().left,t=c.width(),n=c.prev("li").width(),s=c.next("li").width(),f=d-r-t;a<u+2&&(1==T.fingerClick?1==e?S.scrollTo(-o+n,0,T.clickScrollTime):0==e?S.scrollTo(-o,0,T.clickScrollTime):e==m.length-2?S.scrollBy(f-k-t,0,T.clickScrollTime):e==m.length-1?S.scrollBy(f-k,0,T.clickScrollTime):r-h-t*T.fingerClick<i?S.scrollTo(-o+n+t*T.fingerClick,0,T.clickScrollTime):f-k-t*T.fingerClick<i&&S.scrollBy(f-s-k-t*T.fingerClick,0,T.clickScrollTime):1==e?S.scrollTo(-o+n,0,T.clickScrollTime):e==m.length-1?(1<f-k||f-k<-1)&&S.scrollBy(f-k,0,T.clickScrollTime):r-h<i?S.scrollTo(-o+n,0,T.clickScrollTime):f-k<i&&S.scrollBy(f-s-k,0,T.clickScrollTime)),c.addClass(T.className).siblings("li").removeClass(T.className),T.endClickScroll.call(this,c)}e(m.eq(T.defaultSelect)),m.click(function(){e(r(this))}),l[0].addEventListener("touchmove",function(l){l.preventDefault()},!1)})}}(jQuery);